<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Recipe</title>
    <link rel="icon" type="image/x-icon" href="/imgs/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet">
    <!-- Kumbh Sans font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet">
    <!-- font Awesome -->
    <link rel="stylesheet" href="css/all.min.css" />
    <!-- css -->
    <link rel="stylesheet" href="css/homeStyle.css" />
    <!-- MDB -->
    <link rel="stylesheet" href="css/mdb.min.css" />
    <style>
        /* navbar */
        .nav-link{
    position: relative;
}
.nav-link::before {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 2px;
    width: 0;
    background-color: white;
    transition: 0.5s ease;
}
.nav-link:hover {
    transition-delay: 0.5s;
}

/* .nav-link:hover::before {
    width: 100%;
} */
 .nav-link:focus::before,
 .link-checked::before,
 .nav-link:hover::before{
    width: 100%;
}
        /*end navbar */
        .landing-comm {
            background-image: url(imgs/landingcomm.jpg);
            background-size: cover;
            background-position: center center;
            position: relative;
        }

        .landing-comm::before {
            position: absolute;
            content: "";
            inset: 0;
            background-color: rgba(0, 0, 0, 0.44);
            width: 100%;
            height: 100%;
        }

        .breadcrumb {
            width: fit-content;
            margin: auto;
            color: black !important;
            padding: 5px;
            border-radius: 1px;
            background-color: rgba(255, 255, 255, .30) !important;
        }

        .active a {
            color: #ff9638 !important;
        }
    </style>
</head>

<body>
    <!-- start nav -->
    <div class="header ">
        <nav class="navbar navbar-expand-lg fixed-top " id="navbar">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <img src="imgs/logo-white.png" alt="" class="img-fluid w-50">
                </a>
                <button data-mdb-collapse-init class="navbar-toggler" type="button" data-mdb-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse " id="navbarNav">
                    <ul class="navbar-nav ms-auto gap-4 ">
                        <li class="nav-item ">
                            <a class="nav-link text-white" href="home.html">HOME</a>
                        </li>
                        <!-- <li class="nav-item dropdown">
                                <a data-mdb-dropdown-init class="nav-link dropdown-toggle text-white" href="#"
                                    id="navbarDropdownMenuLink" role="button" aria-expanded="false">Recipes</a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <li><a class="dropdown-item" href="#">Action</a></li>
                                    <li><a class="dropdown-item" href="#">Another action</a></li>
                                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                                </ul>
                            </li> -->
                        <li class="nav-item">
                            <a class="nav-link text-white " href="chiefs.html">CHIEFS</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a data-mdb-dropdown-init class="nav-link dropdown-toggle text-white" href="#"
                                id="navbarDropdownMenuLink" role="button" aria-expanded="false">PAGES</a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                <li><a class="dropdown-item" href="recipe-details.html">Recipe Details</a></li>
                                <li><a class="dropdown-item" href="recipesByCategory.html">Category Recipes</a></li>
                                <li><a class="dropdown-item" href="login&signup.html">Login & signUp</a></li>
                            </ul>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link text-white" href="contactUs.html">CONTACT</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <!-- end nav -->
    <!-- start landing -->
    <div class="landing-comm p-5">
        <div class="container">
            <div class="landing-text p-5 m-auto text-center text-white position-relative">
                <div class="d-flex justify-content-center align-items-center">
                    <h2>Type : &nbsp;</h2>
                    <h2 id="categoryName"></h2>
                </div>
                <ol class="breadcrumb text-white">
                    <li class="breadcrumb-item "><a href="home.html" class="text-black">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page"><a href="#" id="currNavigate"></a></li>
                </ol>
            </div>
        </div>
    </div>
    <!-- end landing -->


<!--start Recommended Recipes -->
<section class=" mt-4">
    <div class="container">
        <div class="special-heading">
            <div class="title">Explore this collection of our all-time best dinner recipes</div>
            <h2 class="widgettitle"> Recipes</h2>
            <div class="separate">
                <img src="imgs/separate.png" alt="">
            </div>
        </div>
        <div class="m-3 col-6 m-auto text-center">
            <label for="recipes-types" class="form-label m-2">Select A Category</label>
            <select class="form-select form-select-lg" name="" id="recipes-types" onchange="getCategoryRecipes(this.value)">
                <option selected>Select one</option>
                <!-- <option value="">New Delhi</option>
                <option value="">Istanbul</option>
                <option value="">Jakarta</option> -->
            </select>
        </div>
        <div class="row g-4 mt-3" id="recipes">
            <!-- <div class="recipes-item col-sm-6 col-md-4 col-lg-3">
                <div class="recipes-image bg-image hover-zoom position-relative ">
                    <img src="imgs/recipe-5.jpg" class="w-100" />
                    <div class="inner-box d-flex justify-content-center align-items-center">
                        <div class="links p-4">
                            <a href="#" class="">link tupe</a>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>
    </div>
</section>
<!--end Recommended Recipes -->


    <!-- Footer -->
    <footer class=" mt-4">
        <div class="container">
            <div class="row g-3">
                <div class=" col col-md-6 col-lg-3 ">
                    <h5 class="">About Us</h5>
                    <div class="AboutUs-content small text-white mb-3"> Browse our extensive collection of recipes that
                        includes
                        thousands of recipes for cookies, cakes, breads, rolls and main dishes.</div>
                    <div class="mb-2"><i class="fa-solid fa-location-dot text-white me-2"></i><small>498 Park Presidio
                            Blvd,
                            San Francisco</small></div>
                    <div class="mb-2"> <i
                            class="fa-regular fa-envelope text-white me-2"></i><small>info@example.com</small>
                    </div>
                    <div class="mb-2"><i class="fa-solid fa-phone text-white me-2"></i><small>+123 456 679 123</small>
                    </div>
                </div>
                <div class="Quick-Links col col-md-6 col-lg-2 ">
                    <h5 class="">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2 small"><a href="#!">About Us</a> </li>
                        <li class="mb-2 small"><a href="#!">Submit Your Recipe</a></li>
                        <li class="mb-2 small"> <a href="#!">Privacy Policy</a></li>
                        <li class="mb-2 small"><a href="#!">Terms & Conditions</a></li>
                        <li class="mb-2 small"><a href="#!">Submit Your Recipes</a></li>
                    </ul>
                </div>
                <div class=" d-sm-none d-md-block col-md-6  d-lg-none"></div>
                <!-- Grid column 3 -->
                <div class="Courses col-sm-12 col-md-6 col-lg-2 ">
                    <h5 class="">Courses</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2 small"><a href="#!">Appetizers</a></li>
                        <li class="mb-2 small"><a href="#!">Breads & Rolls</a></li>
                        <li class="mb-2 small"><a href="#!">Condiments</a></li>
                        <li class="mb-2 small"><a href="#!">Desserts</a></li>
                        <li class="mb-2 small"><a href="#!">Dinners</a></li>
                    </ul>
                </div>
                <div class="footer-recent-recipe col col-md-6 col-lg-3">
                    <h5 class="">Recent Recipes</h5>
                    <div class="d-flex gap-3 align-items-center">
                        <div><img src="imgs/recipe-2.jpg" alt="" class="img-fluid"></div>
                        <div>
                            <a href="" class="d-block small">Black Bean Sweet Potato Bowl</a>
                            <i class="far fa-calendar me-2"></i><small>April 10, 2022</small>
                        </div>
                    </div>
                    <hr style="width: 90%;">
                    <div class="d-flex gap-3 align-items-center">
                        <div><img src="imgs/recipe-3.jpg" alt="" class="img-fluid"></div>
                        <div>
                            <a href="" class="d-block small">How to add fibre to...</a>
                            <i class="far fa-calendar me-2 "></i><small>April 15, 2022</small>
                        </div>
                    </div>
                </div>
                <div class="col col-md-6 col-lg-2">
                    <h5 class="">Social Links</h5>
                    <ul class="social-icons list-unstyled d-flex gap-3 align-items-center">
                        <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fab fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fab fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                        <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer -->


    <script type="text/javascript" src="js/mdb.umd.min.js"></script>
<script>
    function initNavbarScroll() {
            const navbar = document.getElementById('navbar');
            window.addEventListener("scroll", () => {
                if (window.scrollY >= 50) {
                    navbar.style.backgroundColor = "#ff9638";
                } else {
                    navbar.style.backgroundColor = "transparent";
                }
            });
        }
        initNavbarScroll()
        //--------------------------------case page is fired from home (category section)--------------------------------//
    // Get the category name from the URL
    document.addEventListener("DOMContentLoaded", function () {
        const params = new URLSearchParams(window.location.search);
        const categoryName = params.get('category');
        // Ensure categoryName exists before proceeding
        if (categoryName) {
            document.getElementById("categoryName").textContent = categoryName;
            document.getElementById("currNavigate").textContent = categoryName;
            console.log("Selected category:", categoryName);
            (async function () {
                try {
                    // Fetch data from API
                    let response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${categoryName}`);
                    if (!response.ok) {
                        throw new Error("Network response was not ok " + response.statusText);
                    }
                    let data = await response.json();
                    let meals = data.meals;
                    console.log(meals);
                    let recommendedRecipes = document.getElementById("recipes");
                    let cardsHTML = ``;
                        for (const meal of meals) {
                            cardsHTML += `
                            <div class="recipes-item col-sm-6 col-md-4 col-lg-3">
                                <div class="recipes-image bg-image hover-zoom position-relative ">
                                    <img src="${meal.strMealThumb}" class="w-100" />
                                    <div class="inner-box d-flex justify-content-center align-items-center">
                                        <div class="links py-3">
                                            <a href="recipe-details.html?recipe=${meal.idMeal}" class="">${meal.strMeal}</a>
                                        </div>
                                    </div>
                                </div>
                            </div>`;
                        }
                    // Set the innerHTML after the loop is done
                    recommendedRecipes.innerHTML = cardsHTML;
                } catch (error) {
                    console.error("There was a problem with the fetch operation:", error);
                }
            })();
        } else {
            //  case where no category is specified in the URL and 
            document.getElementById("recipes").innerHTML = `<p>No category selected. Please choose a valid category.</p>`;
        }
    });

    //--------------------------------case page is fired from navbar directly--------------------------------//
     (async function () {
            try {
                let response = await fetch("https:www.themealdb.com/api/json/v1/1/categories.php");
                if (!response.ok) {
                    throw ("Network response is not ok " + response.statusText);
                }
                let data = await response.json();
                //Accessing the Categories Array
                let categories = data.categories;
                // console.log(categories)
                // document.getElementById("recipes-types").innerHTML = ``;
                for (const category of categories) {
                    document.getElementById("recipes-types").innerHTML += `<option value="${category.strCategory}">${category.strCategory}</option> `;
                }
            } catch (error) {
                console.error("There is a problem with the fetch operation:", error);
            }
        })()
    async function getCategoryRecipes(cat){
        try {
            document.getElementById("categoryName").textContent = cat;
            document.getElementById("currNavigate").textContent = cat;
            // Fetch data from API
            let response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${cat}`);
            if (!response.ok) {
                throw new Error("Network response was not ok " + response.statusText);
            }
            let data = await response.json();
            let meals = data.meals;
            console.log(meals);
            let recommendedRecipes = document.getElementById("recipes");
            let cardsHTML = ``;
            for (const meal of meals) {
                cardsHTML += `
                            <div class="recipes-item col-sm-6 col-md-4 col-lg-3">
                                <div class="recipes-image bg-image hover-zoom position-relative ">
                                    <img src="${meal.strMealThumb}" class="w-100" />
                                    <div class="inner-box d-flex justify-content-center align-items-center">
                                        <div class="links py-3">
                                            <a href="recipe-details.html?recipe=${meal.idMeal}" class="">${meal.strMeal}</a>
                                        </div>
                                    </div>
                                </div>
                            </div>`;
            }
            // Set the innerHTML after the loop is done
            recommendedRecipes.innerHTML = cardsHTML;
        } catch (error) {
            console.error("There was a problem with the fetch operation:", error);
        }
    }
</script>


            
</body>

</html>